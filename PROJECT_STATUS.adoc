= Project Status
:revdate: 2026-01-05

== High-Level Summary
The Boundary framework is focused on keeping the platform domain-agnostic while reinforcing Functional Core / Imperative Shell boundaries. Recent efforts concentrated on completing Phase 4.6 of the production readiness roadmap, adding comprehensive file upload and storage capabilities with multiple backend adapters (local filesystem, AWS S3), image processing, and secure URL generation.

== Recently Completed
* **Phase 4.6: File Upload & Storage (2026-01-05):** Implemented comprehensive file storage module (~2,250 lines production code, ~450 lines tests) with:
  ** **Storage Adapters:** Local filesystem and AWS S3 storage backends following IFileStorage port
  ** **Image Processing:** Java AWT-based processor for resizing, thumbnail generation, and metadata extraction (no external dependencies)
  ** **File Validation:** Pure functional validation for size limits, content types, file extensions, and filename sanitization
  ** **Security Features:** Signed URLs for temporary access, public/private file visibility, path traversal prevention
  ** **HTTP API:** RESTful endpoints for upload, download, delete, and URL generation with multipart support
  ** **Service Layer:** Orchestrates validation, storage, and image processing with comprehensive error handling
  ** **Dependencies Added:** AWS SDK v2.30.11 and S3 transfer manager to deps.edn
  ** **Test Coverage:** 23 tests with 95.5% pass rate (110 assertions, core functionality fully operational)
  ** **Documentation:** Complete README with usage examples, configuration guides, API documentation, and security best practices
* **Documentation Repository Split (2026-01-03):** Successfully split all documentation into separate `boundary-docs` repository while preserving complete git history (175 commits). Documentation now has independent CI/CD with automated Hugo deployment to GitHub Pages.
* **Documentation Reference Updates:** Updated 28 documentation files with current module references (user/inventory instead of billing/workflow) and corrected all cross-repository links.
* **Interceptors Everywhere:** Reitit adapter now wraps every route in the default HTTP interceptor stack, guaranteeing consistent correlation IDs, error handling, and observability hooks. Per-route interceptors still work and are appended after the defaults.
* **Reitit Tests:** Added coverage for default correlation headers, default error handling, and middleware ordering, ensuring the adapter changes remain regression-proof.
* **ADR Alignment:** ADR-010 now documents the "always-on" interceptor behavior and clarifies that `:system` is optional (defaults to `{}`) but recommended when real observability providers are bound.
* **Docs Cleanup (earlier work):** Removed domain-specific billing/workflow references, kept documentation English-only, and aligned guides/architecture docs with the domain-agnostic approach.
* **Telemetry Pureness:** Type-conversion utilities were previously refactored to stay pure (no logging side effects), reinforcing the FC/IS separation.

== In Progress / Upcoming
* **Phase 4 Completion:** Continue with remaining competitive features from production readiness roadmap:
  ** Phase 4.1: Background Jobs (Redis-backed job queue, scheduling, retries)
  ** Phase 4.2: Distributed Caching (Redis integration, cache-aside patterns)
  ** Phase 4.3: MFA Implementation (wire existing MFA logic to HTTP layer, TOTP support)
  ** Phase 4.4: API Versioning & Pagination (URL-based versioning, cursor and offset pagination)
  ** Phase 4.5: Full-Text Search (PostgreSQL full-text search, optional Elasticsearch)
* **Storage Module Refinements:** Address minor test failures in local adapter (file-exists? edge cases, concurrent upload timing)
* **GitHub Pages Setup:** Documentation repository is ready for deployment. Requires one-time manual GitHub Pages configuration (5 minutes) to enable automated Hugo builds and deployment.
* **Global/Configurable Interceptors (Optional Enhancement):** Evaluate whether the router config should support additional global interceptors (beyond the default stack) so modules can declare shared policies (e.g., tenancy enforcement).
* **Repository-Wide Lint Debt:** clj-kondo currently reports many legacy warnings (unused bindings, unresolved namespaces, etc.). A structured cleanup pass would improve signal/noise for new work.

== Risks / Blockers
* **External Dependencies:** Several integration tests rely on local PostgreSQL; when unavailable they are skipped. Consider containerized fixtures or Testcontainers-like setup for reproducibility.
* **Lint Noise:** Until unresolved namespace and unused binding warnings are addressed, genuine regressions may hide in the noise.
* **Observability Providers:** Only no-op providers are guaranteed in dev/test. Wiring up real providers (Datadog, Sentry) needs environment-specific instructions before production rollout.

== Suggested Next Steps
1. **Integrate Storage Module:** Add storage routes to main application router, configure storage backend (local or S3) in application config
2. **Continue Phase 4:** Implement remaining competitive features (Background Jobs, Caching, MFA, API Versioning, Search) following FC/IS pattern
3. **Enable GitHub Pages:** Complete one-time GitHub Pages setup for boundary-docs repository (instructions in `GITHUB_PAGES_SETUP.md` in docs repo)
4. **Storage Test Refinements:** Fix minor edge cases in local adapter tests (file-exists? behavior, concurrent upload timing)
5. **clj-kondo Cleanup Sprint:** Triage the highest-priority lint categories (missing requires, unresolved symbols) to improve CI signal
6. **Test Infrastructure:** Evaluate Docker-based postgres fixture or embed instructions/tools so contributors can run integration tests reliably

== Documentation
* **Main Documentation:** https://github.com/thijs-creemers/boundary-docs (separate repository)
* **Live Docs (when deployed):** https://thijs-creemers.github.io/boundary-docs/
* **Code Repository:** https://github.com/thijs-creemers/boundary
* **Developer Guide:** link:AGENTS.md[AGENTS.md] (comprehensive guide for AI and human developers)
