==== link:#_use_case_use_case_name[]Use Case: ++[++Use Case Name++]++

[[_actors]]
===== link:#_actors[]Actors

* *Primary:* ++[++Primary Actor++]++
* *Secondary:* ++[++Secondary Actors++]++

[[_trigger]]
===== link:#_trigger[]Trigger

_What initiates this use case?_

[[_preconditions]]
===== link:#_preconditions[]Preconditions

* _Condition 1 that must be true before starting_
* _Condition 2 that must be true before starting_

[[_primary_flow]]
===== link:#_primary_flow[]Primary Flow

. _Actor performs initial action_
. _System responds with…​_
. _Actor provides…​_
. _System validates and processes…​_
. _System persists…​_
. _System responds with success…​_

[[_alternate_flows]]
===== link:#_alternate_flows[]Alternate Flows

[[_a1_error_condition]]
====== link:#_a1_error_condition[]A1: ++[++Error Condition++]++

1a. _When error occurs…​_ 2a. _System responds with…​_ 3a. _Use case ends in error state_

[[_a2_alternative_path]]
====== link:#_a2_alternative_path[]A2: ++[++Alternative Path++]++

2b. _If alternative condition…​_ 3b. _System takes alternative action…​_ 4b. _Continue with step 5 of primary flow_

[[_postconditions]]
===== link:#_postconditions[]Postconditions

[[_success_postconditions]]
====== link:#_success_postconditions[]Success Postconditions

* _State change 1 that occurs on success_
* _State change 2 that occurs on success_

[[_failure_postconditions]]
====== link:#_failure_postconditions[]Failure Postconditions

* _State preserved or rolled back_
* _Error logged and reported_

[[_business_rules]]
===== link:#_business_rules[]Business Rules

* _Rule 1: Business constraint that applies_
* _Rule 2: Validation rule that must be enforced_

[[_technical_implementation]]
===== link:#_technical_implementation[]Technical Implementation

[[_core_function]]
====== link:#_core_function[]Core Function

`boundary.core.++[++domain++]++/++[++function-name++]++`

[[_input_schema]]
====== link:#_input_schema[]Input Schema

[source,highlightjs,highlight]
----
{:input/field [:string {:min 1}]
 :input/id    :uuid}
----

[[_output_schema]]
====== link:#_output_schema[]Output Schema

[source,highlightjs,highlight]
----
{:result/status [:enum :success :error]
 :result/data   [:maybe :map]
 :result/error  [:maybe :string]}
----

[[_repository_dependencies]]
====== link:#_repository_dependencies[]Repository Dependencies

* `I++[++Entity++]++Repository`
* `I++[++Other++]++Repository`

[[_shell_components]]
====== link:#_shell_components[]Shell Components

* *HTTP Handler:* `boundary.platform.shell.http/handle-++[++action++]++`
* *CLI Command:* `boundary ++[++resource++]++ ++[++action++]++`
* *Validation:* Uses `++[++Schema++]++` with malli

[[_test_cases]]
===== link:#_test_cases[]Test Cases

[[_happy_path]]
====== link:#_happy_path[]Happy Path

* *Given:* _Initial conditions_
* *When:* _Action is performed_
* *Then:* _Expected outcome_

[[_error_cases]]
====== link:#_error_cases[]Error Cases

* *Given:* _Error conditions_
* *When:* _Action is attempted_
* *Then:* _Error is handled appropriately_

[[_acceptance_criteria]]
===== link:#_acceptance_criteria[]Acceptance Criteria

* __ _Specific, measurable criterion 1_
* __ _Specific, measurable criterion 2_
* __ _Error handling criterion_
* __ _Performance criterion_

[[_examples]]
===== link:#_examples[]Examples

[[_api_example]]
====== link:#_api_example[]API Example

[source,highlightjs,highlight]
----
curl -X POST http://localhost:8080/api/v1/[resource] \
  -H "Content-Type: application/json" \
  -d '{"field": "example"}'
----

[[_cli_example]]
====== link:#_cli_example[]CLI Example

[source,highlightjs,highlight]
----
boundary [resource] [action] --field="example"
----

[[_expected_response]]
====== link:#_expected_response[]Expected Response

[source,highlightjs,highlight]
----
{
  "data": {
    "id": "123e4567-e89b-12d3-a456-426614174000",
    "field": "example"
  },
  "meta": {
    "timestamp": "2023-01-01T12:00:00Z"
  }
}
----
