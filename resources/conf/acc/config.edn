{
 ;; =============================================================================
 ;; Acceptance (ACC) Environment Configuration
 ;; =============================================================================
 
 :active
 {
  ;; Core application settings (always active)
  :boundary/settings
  {:name              "boundary-acc"
   :version           "0.1.0"
   :date-format       "yyyy-MM-dd"
   :date-time-format  "yyyy-MM-dd HH:mm:ss"
   :currency/iso-code "EUR"}

  ;; Database configuration (typically PostgreSQL in acceptance)
  :boundary/postgresql
  {:host          #env "POSTGRES_HOST"
   :port          #env "POSTGRES_PORT"
   :dbname        #env "POSTGRES_DB"
   :user          #env "POSTGRES_USER"
   :password      #env "POSTGRES_PASSWORD"
   :auto-commit   true
   :pool          {:minimum-idle 5
                   :maximum-pool-size 20
                   :connection-timeout-ms 30000
                   :idle-timeout-ms 600000
                   :max-lifetime-ms 1800000}}

  ;; Acceptance logging configuration
  :boundary/logging
  {:level     :info
   :console   false
   :appenders [{:appender       :rolling-file
                :file           "logs/boundary-acc.log"
                :rolling-policy {:type        :time-based
                                 :max-history 30
                                 :max-size    20000000
                                 :pattern     ".%d{yyyy-MM-dd}.%i.gz"}}]}

  ;; Acceptance error reporting configuration (Sentry)
  :boundary/error-reporting
  {:provider    :sentry
   :dsn         #env "SENTRY_DSN"
   :environment "acc"
   :release     #or [#env "APP_RELEASE" #env "VERSION"]
   :sample-rate 1.0}}

 :inactive
 {
  ;; Optional fallback database configurations
  :boundary/sqlite
  {:db "acc-fallback.db"
   :pool {:minimum-idle 1
          :maximum-pool-size 5
          :connection-timeout-ms 10000}}

  :boundary/h2
  {:memory false
   :db     "acc-h2-fallback"
   :pool   {:minimum-idle 1
            :maximum-pool-size 5}}}}
