#kaocha/v1
{;; All library source paths (shared by all test suites)
 :kaocha/source-paths ["src"
                       "libs/core/src"
                       "libs/observability/src"
                       "libs/platform/src"
                       "libs/user/src"
                       "libs/admin/src"
                       "libs/storage/src"
                       "libs/scaffolder/src"
                       "libs/cache/src"
                       "libs/jobs/src"
                       "libs/email/src"]

 :tests [;; Run all tests (default)
         {:id :unit
          :test-paths ["test"
                       "libs/core/test"
                       "libs/observability/test"
                       "libs/platform/test"
                       "libs/user/test"
                       "libs/admin/test"
                       "libs/storage/test"
                       "libs/scaffolder/test"
                       "libs/cache/test"
                       "libs/jobs/test"
                       "libs/email/test"]
          :ns-patterns ["boundary.*-test"]
          :randomize? true}

         ;; Per-library test suites
         ;; Usage: clojure -M:test :core
         {:id :core
          :test-paths ["libs/core/test"]
          :ns-patterns ["boundary.core.*-test"]}

         {:id :observability
          :test-paths ["libs/observability/test"]
          :ns-patterns ["boundary.observability.*-test"]}

         {:id :platform
          :test-paths ["libs/platform/test"]
          :ns-patterns ["boundary.platform.*-test"]}

         {:id :user
          :test-paths ["libs/user/test"]
          :ns-patterns ["boundary.user.*-test"]}

         {:id :admin
          :test-paths ["libs/admin/test"]
          :ns-patterns ["boundary.admin.*-test"]}

         {:id :storage
          :test-paths ["libs/storage/test"]
          :ns-patterns ["boundary.storage.*-test"]}

         {:id :scaffolder
          :test-paths ["libs/scaffolder/test"]
          :ns-patterns ["boundary.scaffolder.*-test"]}

         {:id :cache
          :test-paths ["libs/cache/test"]
          :ns-patterns ["boundary.cache.*-test"]}

         {:id :jobs
          :test-paths ["libs/jobs/test"]
          :ns-patterns ["boundary.jobs.*-test"]}

         {:id :email
          :test-paths ["libs/email/test"]
          :ns-patterns ["boundary.email.*-test"]}]

 :plugins [:kaocha.plugin/randomize
           :kaocha.plugin/filter
           :kaocha.plugin/profiling]

 ;; Enable metadata-based filtering for focus-meta.
 ;; Examples:
 ;;   ^:unit        → clojure -M:test --focus-meta :unit
 ;;   ^:integration → clojure -M:test --focus-meta :integration
 ;;   ^:user        → clojure -M:test --focus-meta :user
 :kaocha.plugin.filter/focus-meta [:unit :integration :contract :user :billing :phase3]

 :kaocha.plugin.randomize/randomize? true
 :kaocha/reporter [kaocha.report/documentation]

 :kaocha/fail-fast? false
 :kaocha/color? true
 :kaocha/watch? false}
